<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AetherSwap | LaunchLab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@solana/web3.js@1.70.1/lib/index.iife.min.js"></script>
  <!-- Phantom Wallet Integration -->
  <script src="https://unpkg.com/@phantom-labs/inject-sdk@latest/dist/sdk.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Space Grotesk', sans-serif;
      background-color: #0a0a0a;
      color: #fff;
    }
    .gradient-text {
      background: linear-gradient(90deg, #7e22ce 0%, #3b82f6 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .gradient-border {
      position: relative;
      border-radius: 1rem;
    }
    .gradient-border::before {
      content: "";
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      border-radius: 1rem;
      background: linear-gradient(45deg, #7e22ce, #3b82f6, #7e22ce);
      background-size: 300% 300%;
      z-index: -1;
      animation: gradient 3s ease infinite;
    }
    @keyframes gradient {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }
    .launch-button {
      background: linear-gradient(90deg, #7e22ce 0%, #3b82f6 100%);
      border-radius: 0.75rem;
      padding: 1rem;
      font-weight: 600;
      width: 100%;
      transition: all 0.2s;
      color: white;
    }
    .launch-button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }
    .loading-spinner {
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: 3px solid white;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-right: 8px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Ticker Styles */
    #ticker-container {
      background: #121212;
      border-top: 1px solid #3b3b3b;
      border-bottom: 1px solid #3b3b3b;
      overflow: hidden;
      white-space: nowrap;
      padding: 0.5rem 0;
    }
    #ticker {
      display: inline-block;
      padding-left: 100%;
      animation: ticker-scroll 30s linear infinite;
      font-weight: 600;
      font-size: 0.9rem;
      color: #cbd5e1;
      user-select: none;
    }
    .ticker-item {
      display: inline-flex;
      align-items: center;
      margin-right: 3rem;
      gap: 0.3rem;
    }
    .ticker-item img {
      width: 20px;
      height: 20px;
      border-radius: 50%;
    }
    .price-up {
      color: #22c55e;
    }
    .price-down {
      color: #ef4444;
    }
    @keyframes ticker-scroll {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- Navbar -->
  <nav class="container mx-auto px-6 py-6 flex justify-between items-center">
    <a href="index.html" class="flex items-center space-x-2">
      <div class="w-10 h-10 rounded-full gradient-border flex items-center justify-center">
        <div class="w-8 h-8 bg-black rounded-full flex items-center justify-center text-white text-xl font-bold select-none">
          ‚Üê
        </div>
      </div>
      <span class="text-2xl font-bold gradient-text">AetherSwap LaunchLab</span>
    </a>
    <button
      id="connect-wallet"
      class="gradient-border px-6 py-2 rounded-full font-medium text-white hover:opacity-90 transition"
    >
      Connect Wallet
    </button>
  </nav>

  <!-- Ticker d√©filant avec tokens -->
  <div id="ticker-container" aria-label="Crypto prices ticker">
    <div id="ticker" aria-live="polite" aria-atomic="true">
      Loading prices...
    </div>
  </div>

  <!-- Main content -->
  <main class="container mx-auto px-4 py-8 max-w-2xl">
    <div class="gradient-border p-1 rounded-2xl mb-8">
      <div class="bg-gray-900 rounded-2xl p-6">
        <h2 class="text-xl font-bold mb-4">üöÄ Create New Token</h2>
        <div class="space-y-4">
          <div>
            <label class="block text-sm text-gray-400 mb-1">Token Name</label>
            <input
              id="token-name"
              type="text"
              placeholder="My Awesome Token"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Token Symbol</label>
            <input
              id="token-symbol"
              type="text"
              placeholder="MAT"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Total Supply</label>
            <input
              id="token-supply"
              type="number"
              placeholder="1000000"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Decimals</label>
            <input
              id="token-decimals"
              type="number"
              placeholder="9"
              value="9"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div class="pt-4">
            <button id="create-token" class="launch-button">Create Token</button>
          </div>
        </div>
      </div>
    </div>

    <div class="gradient-border p-1 rounded-2xl">
      <div class="bg-gray-900 rounded-2xl p-6">
        <h2 class="text-xl font-bold mb-4">üî´ Fair Launch (IDO)</h2>
        <div class="space-y-4">
          <div>
            <label class="block text-sm text-gray-400 mb-1">Token Address</label>
            <input
              id="ido-token-address"
              type="text"
              placeholder="Example: 7xKXtg...CW1gK"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Token Amount to Sell</label>
            <input
              id="ido-token-amount"
              type="number"
              placeholder="100000"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Price per Token (in SOL)</label>
            <input
              id="ido-token-price"
              type="number"
              placeholder="0.01"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Liquidity Lock (Days)</label>
            <input
              id="ido-lock-days"
              type="number"
              placeholder="30"
              class="w-full bg-gray-800 rounded-lg px-4 py-3 focus:outline-none"
            />
          </div>
          <div class="pt-4">
            <button id="launch-ido" class="launch-button">Launch IDO</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Connect Wallet Button (stub)
    document.getElementById('connect-wallet').addEventListener('click', () => {
      alert('Connect wallet functionality coming soon.');
    });

    // Create Token Button (stub)
    document.getElementById('create-token').addEventListener('click', () => {
      alert('Create Token functionality coming soon.');
    });

    // Launch IDO Button (stub)
    document.getElementById('launch-ido').addEventListener('click', () => {
      alert('Launch IDO functionality coming soon.');
    });

    // --- CoinGecko Token Ticker ---

    async function fetchTokenPrices() {
      try {
        // IDs of tokens on CoinGecko you want to display (can be changed)
        const tokenIds = ['solana', 'ethereum', 'bitcoin', 'ripple', 'cardano', 'polkadot'];
        const url = `https://api.coingecko.com/api/v3/simple/price?ids=${tokenIds.join(',')}&vs_currencies=usd&include_24hr_change=true`;
        const response = await fetch(url);
        const data = await response.json();

        const ticker = document.getElementById('ticker');
        if (!data) {
          ticker.textContent = 'Failed to load prices.';
          return;
        }

        // Build ticker HTML
        ticker.innerHTML = tokenIds.map(id => {
          const price = data[id].usd.toFixed(2);
          const change = data[id].usd_24h_change;
          const changeClass = change >= 0 ? 'price-up' : 'price-down';
          const arrow = change >= 0 ? '‚ñ≤' : '‚ñº';
          const iconUrl = `https://assets.coingecko.com/coins/images/${getCoinImageId(id)}.png`;

          return `<span class="ticker-item">
                    <img src="${iconUrl}" alt="${id} logo" />
                    <span>${capitalize(id)}: $${price}</span>
                    <span class="${changeClass}">${arrow} ${Math.abs(change).toFixed(2)}%</span>
                  </span>`;
        }).join(' ');
      } catch (error) {
        console.error('Error fetching token prices:', error);
        document.getElementById('ticker').textContent = 'Error loading prices.';
      }
    }

    // Helper to capitalize first letter
    function capitalize(s) {
      return s.charAt(0).toUpperCase() + s.slice(1);
    }

    // Map token id to CoinGecko image IDs for icons (you can adjust IDs if needed)
    // These IDs correspond to CoinGecko's coin image filenames.
    function getCoinImageId(id) {
      const map = {
        solana: '4128',
        ethereum: '279',
        bitcoin: '1',
        ripple: '44',
        cardano: '975',
        polkadot: '12171'
      };
      return map[id] || '1'; // fallback Bitcoin icon if missing
    }

    // Refresh prices every 60 seconds
    fetchTokenPrices();
    setInterval(fetchTokenPrices, 60000);
  </script>
</body>
</html>