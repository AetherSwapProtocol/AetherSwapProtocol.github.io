<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TapWar X10</title>
  <style>
    :root {
      --main-color: #00d9ff;
      --bg-dark: #0c0f1c;
      --bg-light: #f9fafb;
      --text-light: #ffffff;
      --text-dark: #000000;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      touch-action: manipulation;
      user-select: none;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background: rgba(0, 20, 40, 0.9);
      border-bottom: 1px solid var(--main-color);
    }

    button, .tap-button {
      background: var(--main-color);
      border: none;
      border-radius: 8px;
      color: black;
      font-size: 1rem;
      padding: 10px 15px;
      cursor: pointer;
    }

    #tap-area {
      width: 200px;
      height: 200px;
      margin: 30px auto;
      background: radial-gradient(circle, var(--main-color) 0%, #0077ff 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      box-shadow: 0 0 30px var(--main-color);
      cursor: pointer;
      transition: transform 0.1s;
      position: relative;
    }

    #tap-area:active {
      transform: scale(0.95);
    }

    .hud {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      padding: 10px;
      background: rgba(0, 20, 40, 0.8);
      margin: 0 20px;
      border-radius: 10px;
    }

    .progress-bar {
      height: 10px;
      background: #222;
      border-radius: 5px;
      margin: 10px 20px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #00ffaa, var(--main-color));
      border-radius: 5px;
      transition: width 0.3s;
    }

    .shop, .stats, .badges, .controls {
      padding: 10px 20px;
      background: rgba(0, 20, 40, 0.8);
      border-radius: 10px;
      margin: 15px;
    }

    .toast {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--main-color);
      color: black;
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: bold;
      animation: fadeInOut 2s;
      z-index: 999;
    }

    @keyframes fadeInOut {
      0%, 100% { opacity: 0; }
      10%, 90% { opacity: 1; }
    }

    .theme-toggle {
      font-size: 1.2rem;
      margin-left: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="header">
    <div id="username">Player</div>
    <div>
      <button onclick="toggleLang()">🌐</button>
      <span class="theme-toggle" onclick="toggleTheme()">🌓</span>
    </div>
  </div>

  <div class="progress-bar"><div id="xp-fill" class="progress-fill"></div></div>

  <div id="tap-area" onclick="tap()">TAP</div>

  <div class="hud">
    <div>🆙 <span id="level">1</span></div>
    <div>💥 <span id="tap-power">1</span>/tap</div>
    <div>🤖 <span id="auto-power">0</span>/s</div>
    <div>🔢 Taps: <span id="tap-count">0</span></div>
  </div>

  <div class="shop">
    <h3>🛍️ Shop</h3>
    <button onclick="buyUpgrade('tapPower')">+1 Tap Power (10 AETH)</button>
    <button onclick="buyUpgrade('autoPower')">+1 Auto Power (50 AETH)</button>
  </div>

  <div class="stats">
    <h3>📊 Stats</h3>
    <p>Total AETH: <span id="aeth">0</span></p>
    <p>Total Time: <span id="play-time">0</span>s</p>
  </div>

  <div class="badges">
    <h3>🏅 Badges</h3>
    <div id="badges-container"></div>
  </div>

  <div class="controls">
    <h3>⚙️ Save & Load</h3>
    <button onclick="exportSave()">⬇ Export</button>
    <button onclick="importSave()">⬆ Import</button>
  </div>

  <audio id="tap-sound" src="https://cdn.pixabay.com/download/audio/2023/03/01/audio_f44e45d1cd.mp3?filename=click-124467.mp3"></audio>
  <audio id="levelup-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5331e76e7e.mp3?filename=game-level-up-191276.mp3"></audio>

  <script>
    const game = {
      aeth: 0,
      level: 1,
      xp: 0,
      tapPower: 1,
      autoPower: 0,
      tapCount: 0,
      badges: [],
      timePlayed: 0
    };

    const translations = {
      en: {
        username: "Player",
        shop: "Shop",
        stats: "Stats",
        tapPower: "Tap Power",
        autoPower: "Auto Power",
        dashboard: "Dashboard",
        badges: ["Miner", "Trader", "Champion", "Whale"]
      },
      fr: {
        username: "Joueur",
        shop: "Boutique",
        stats: "Statistiques",
        tapPower: "Puissance",
        autoPower: "Auto",
        dashboard: "Tableau de bord",
        badges: ["Mineur", "Trader", "Champion", "Baleine"]
      }
    };

    let currentLang = "en";
    const xpBar = document.getElementById("xp-fill");
    const tapSound = document.getElementById("tap-sound");
    const levelSound = document.getElementById("levelup-sound");

    function updateUI() {
      document.getElementById("level").textContent = game.level;
      document.getElementById("tap-power").textContent = game.tapPower;
      document.getElementById("auto-power").textContent = game.autoPower;
      document.getElementById("aeth").textContent = game.aeth;
      document.getElementById("tap-count").textContent = game.tapCount;
      document.getElementById("play-time").textContent = game.timePlayed;
      const xpNeeded = game.level * 100;
      xpBar.style.width = `${(game.xp / xpNeeded) * 100}%`;
      renderBadges();
    }

    function tap() {
      game.aeth += game.tapPower;
      game.xp += 10;
      game.tapCount++;
      updateUI();
      tapSound.play();
      const xpNeeded = game.level * 100;
      if (game.xp >= xpNeeded) {
        game.level++;
        game.xp = 0;
        showToast(`LEVEL UP! ${game.level}`);
        levelSound.play();
      }
      saveGame();
    }

    function buyUpgrade(type) {
      if (type === 'tapPower' && game.aeth >= 10) {
        game.tapPower++;
        game.aeth -= 10;
        showToast("Tap Power Upgraded!");
      } else if (type === 'autoPower' && game.aeth >= 50) {
        game.autoPower++;
        game.aeth -= 50;
        showToast("Auto Power Upgraded!");
      }
      updateUI();
      saveGame();
    }

    function renderBadges() {
      const container = document.getElementById("badges-container");
      const badgeConditions = [
        game.tapCount >= 10,
        game.level >= 5,
        game.tapPower >= 10,
        game.autoPower >= 5
      ];
      container.innerHTML = badgeConditions.map((unlocked, i) =>
        `<span title="${translations[currentLang].badges[i]}" style="margin:5px; padding:5px; background:${unlocked ? '#00ffaa' : '#333'}; border-radius:6px;">🏅</span>`
      ).join('');
    }

    function startAutoClicker() {
      setInterval(() => {
        game.aeth += game.autoPower;
        game.timePlayed++;
        updateUI();
        saveGame();
      }, 1000);
    }

    function toggleLang() {
      currentLang = currentLang === "en" ? "fr" : "en";
      document.getElementById("username").textContent = translations[currentLang].username;
      updateUI();
    }

    function toggleTheme() {
      const root = document.documentElement;
      const dark = getComputedStyle(root).getPropertyValue('--bg-dark');
      const currentBg = getComputedStyle(document.body).backgroundColor;
      document.body.style.background = currentBg.includes('12') ? dark : '#f9fafb';
      document.body.style.color = currentBg.includes('12') ? 'white' : 'black';
    }

    function showToast(msg) {
      const toast = document.createElement("div");
      toast.className = "toast";
      toast.textContent = msg;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    function exportSave() {
      const saveData = JSON.stringify(game);
      navigator.clipboard.writeText(saveData).then(() => {
        showToast("Copied Save to Clipboard");
      });
    }

    function importSave() {
      const data = prompt("Paste your save data:");
      if (data) {
        Object.assign(game, JSON.parse(data));
        updateUI();
        showToast("Save Imported!");
      }
    }

    function saveGame() {
      localStorage.setItem("tapwarx10", JSON.stringify(game));
    }

    function loadGame() {
      const saved = localStorage.getItem("tapwarx10");
      if (saved) Object.assign(game, JSON.parse(saved));
    }

    loadGame();
    updateUI();
    startAutoClicker();
  </script>
</body>
</html>