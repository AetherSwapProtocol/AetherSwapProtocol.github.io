<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AetherSwap Interface</title>
    <style>
    /* Reset & Base Styles (inchangé) */
    * { 
        margin: 0; 
        padding: 0; 
        box-sizing: border-box; 
        font-family: 'Arial', sans-serif; 
    }
    body { 
        background: #0f172a; 
        color: white; 
        min-height: 100vh;
    }
    button { 
        cursor: pointer; 
        transition: all 0.2s ease; 
    }
    img { 
        max-width: 100%; 
        height: auto; 
    }
    a {
        color: inherit;
        text-decoration: none;
    }

    /* ===== NOUVEAU STYLE NAVBAR ===== */
    header { 
        background: #1e293b;
        padding: 0.8rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 10;
        border-bottom: 1px solid #334155;
    }

    .nav-links { 
        display: flex; 
        gap: 1.25rem;
        margin: 0 auto;
    }

    .nav-links button { 
        background: none; 
        border: none; 
        color: #94a3b8; 
        font-weight: 500; 
        font-size: 0.95rem;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
    }

    .nav-links button:hover { 
        color: #3b82f6;
        background: rgba(59, 130, 246, 0.1);
    }

    .nav-links button[style*="color: #60a5fa"] {
        background: rgba(96, 165, 250, 0.1);
    }

    .connect-wallet { 
        background: #3b82f6;
        padding: 0.65rem 1.25rem;
        border-radius: 0.5rem;
        border: none;
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        transition: all 0.2s;
    }

    .connect-wallet:hover {
        background: #2563eb;
    }

    @media (max-width: 768px) {
        header {
            padding: 0.8rem 1rem;
            flex-wrap: wrap;
        }
        .nav-links {
            order: 2;
            width: 100%;
            justify-content: center;
            margin: 0.5rem 0;
        }
        .connect-wallet {
            order: 1;
            margin-left: auto;
        }
    }

    /* ===== TOUT LE RESTE DU CSS (CONSERVÉ À L'IDENTIQUE) ===== */
    /* Modal Styles */
    .modal { 
        position: fixed; 
        top: 0; 
        left: 0; 
        width: 100%; 
        height: 100%; 
        background: rgba(0, 0, 0, 0.7); 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        opacity: 0; 
        pointer-events: none; 
        transition: opacity 0.3s;
        z-index: 100;
    }
    /* ... (tous vos autres styles conservés sans modification) ... */
</style>
</head>
<body>
    <!-- Header Navigation -->
    
<header class="dex-header">
  <div class="dex-container">
    <!-- Logo + Nom à gauche -->
    <div class="dex-brand">
      <svg width="28" height="28" viewBox="0 0 64 64" class="dex-logo">
        <path d="M32 12L12 32l20 20 20-20z" fill="none" stroke="#3b82f6" stroke-width="2"/>
      </svg>
      <h1>AetherSwap</h1>
    </div>

    <!-- Navigation centrale -->
    <nav class="dex-navigation">
      <button>Swap</button>
      <button>Liquidity</button>
      <button>Portfolio</button>
      <button class="active">Perpetuals</button>
      <button>LaunchLab</button>
    </nav>

    <!-- Bouton Wallet à droite -->
    <button class="dex-wallet-connect" id="connect-wallet-btn">
      Connect Wallet
    </button>
  </div>
</header>

    <!-- Main Swap Interface -->
    <main class="swap-container">
        <div class="swap-box">
            <div class="input-group">
                <label>From</label>
                <div class="token-input">
                    <input type="number" placeholder="0.0" id="from-amount">
                    <button class="token-selector" id="from-token-selector">
                        <span>SOL</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                </div>
                <div class="token-balance">Balance: 2.45 SOL</div>
            </div>

            <div class="swap-direction">
                <button class="swap-direction-btn" id="swap-direction-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M17 3l5 5-5 5"></path>
                        <path d="M22 8h-7C7.477 8 2 13.477 2 20v1"></path>
                        <path d="M7 21l-5-5 5-5"></path>
                        <path d="M2 16h7c7.523 0 13-5.477 13-13v-1"></path>
                    </svg>
                </button>
            </div>

            <div class="input-group">
                <label>To</label>
                <div class="token-input">
                    <input type="number" placeholder="0.0" id="to-amount">
                    <button class="token-selector" id="to-token-selector">
                        <span>USDC</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                </div>
                <div class="token-balance">Balance: 145.80 USDC</div>
            </div>

            <div class="rate-info">
                1 SOL = 160.50 USDC (-0.04%)
            </div>

            <button class="swap-button" id="swap-button" disabled>Connect Wallet</button>
        </div>
    </main>

    <!-- Token Selection Modal -->
    <div class="modal" id="token-modal">
        <div class="modal-content">
            <button class="modal-close" id="token-modal-close">&times;</button>
            <h3>Select a Token</h3>
            <input type="text" placeholder="Search by token or paste address" class="token-input" style="margin: 1rem 0; width: 100%; padding: 0.75rem;" id="token-search">

            <h4 style="margin: 1rem 0 0.5rem;">Popular tokens</h4>
            <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap;">
                <button class="token-selector" style="padding: 0.5rem 1rem;">USDC</button>
                <button class="token-selector" style="padding: 0.5rem 1rem;">SOL</button>
                <button class="token-selector" style="padding: 0.5rem 1rem;">RAY</button>
                <button class="token-selector" style="padding: 0.5rem 1rem;">USDT</button>
            </div>

            <div class="wallet-grid" id="token-list">
                <!-- Tokens will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Wallet Connection Modal -->
    <div class="modal" id="wallet-modal">
        <div class="modal-content">
            <button class="modal-close" id="wallet-modal-close">&times;</button>
            <h3>Connect your wallet to AetherSwap</h3>
            <p style="margin: 0.75rem 0 1.5rem; font-size: 0.9rem; color: #94a3b8;">
                By connecting your wallet, you acknowledge that you have read, understand and accept the terms in the disclaimer
            </p>

            <div class="wallet-grid">
                <div class="wallet-item" id="phantom-wallet">
                    <img src="https://phantom.app/favicon.ico" alt="Phantom" class="wallet-icon">
                    <span class="wallet-name">Phantom</span>
                    <span class="wallet-badge">Auto Confirm</span>
                </div>
                <div class="wallet-item" id="solflare-wallet">
                    <img src="https://solflare.com/favicon.ico" alt="Solflare" class="wallet-icon">
                    <span class="wallet-name">Solflare</span>
                    <span class="wallet-badge">Auto Approve</span>
                </div>
                <div class="wallet-item" id="walletconnect-wallet">
                    <img src="https://walletconnect.com/favicon.ico" alt="WalletConnect" class="wallet-icon">
                    <span class="wallet-name">WalletConnect</span>
                </div>
                <div class="wallet-item" id="torus-wallet">
                    <img src="https://www.tor.us/favicon.ico" alt="Torus" class="wallet-icon">
                    <span class="wallet-name">Torus</span>
                </div>
            </div>

            <div style="margin-top: 1.5rem; text-align: center;">
                <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 0.5rem;">New here? Get started on AetherSwap</p>
                <p style="font-size: 0.9rem; color: #94a3b8;">Buy Crypto with flat &gt; MoonPay &gt;</p>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const connectWalletBtn = document.getElementById('connect-wallet-btn');
        const swapButton = document.getElementById('swap-button');
        const fromTokenSelector = document.getElementById('from-token-selector');
        const toTokenSelector = document.getElementById('to-token-selector');
        const tokenList = document.getElementById('token-list');
        const fromAmountInput = document.getElementById('from-amount');
        const toAmountInput = document.getElementById('to-amount');
        const swapDirectionBtn = document.getElementById('swap-direction-btn');
        const tokenSearch = document.getElementById('token-search');
        const walletModalClose = document.getElementById('wallet-modal-close');
        const tokenModalClose = document.getElementById('token-modal-close');

        // Sample token data
        const tokens = [
            { symbol: 'RAY', name: 'Raydium', balance: '0', address: '4k3Dyj...QrkX6R' },
            { symbol: 'USDT', name: 'Tether', balance: '0', address: 'Es9vMF...enwNYB' },
            { symbol: 'USDC', name: 'USD Coin', balance: '145.80', address: 'EPjFWd...yTDt1v' },
            { symbol: 'SOL', name: 'Solana', balance: '2.45', address: 'So1111...11112' },
            { symbol: 'mSOL', name: 'Marinade staked SOL', balance: '0', address: 'mSoLzY...cJm7So' },
            { symbol: 'ETH', name: 'Ethereum', balance: '0', address: '7vfCXT...Ke3hL6' }
        ];

        // Current selected tokens
        let fromToken = 'SOL';
        let toToken = 'USDC';
        let currentSelection = 'from';

        // Initialize the app
        function init() {
            // Populate token list
            renderTokenList(tokens);

            // Event listeners
            connectWalletBtn.addEventListener('click', () => openModal('wallet-modal'));
            walletModalClose.addEventListener('click', () => closeModal('wallet-modal'));
            tokenModalClose.addEventListener('click', () => closeModal('token-modal'));
            
            fromTokenSelector.addEventListener('click', () => {
                currentSelection = 'from';
                openModal('token-modal');
            });
            
            toTokenSelector.addEventListener('click', () => {
                currentSelection = 'to';
                openModal('token-modal');
            });

            // Wallet connection items
            document.getElementById('phantom-wallet').addEventListener('click', () => connectWallet('phantom'));
            document.getElementById('solflare-wallet').addEventListener('click', () => connectWallet('solflare'));
            document.getElementById('walletconnect-wallet').addEventListener('click', () => connectWallet('walletconnect'));
            document.getElementById('torus-wallet').addEventListener('click', () => connectWallet('torus'));

            // Swap direction button
            swapDirectionBtn.addEventListener('click', swapTokens);

            // Amount input changes
            fromAmountInput.addEventListener('input', calculateToAmount);
            toAmountInput.addEventListener('input', calculateFromAmount);

            // Token search
            tokenSearch.addEventListener('input', filterTokens);
        }

        // Render token list
        function renderTokenList(tokensToRender) {
            tokenList.innerHTML = '';
            tokensToRender.forEach(token => {
                const tokenElement = document.createElement('div');
                tokenElement.className = 'token-item';
                tokenElement.innerHTML = `
                    <span class="token-symbol">${token.symbol}</span>
                    <span class="token-name">${token.name}</span>
                    <span class="token-address">${token.address}</span>
                    <span style="margin-left: auto;">${token.balance}</span>
                `;
                tokenElement.addEventListener('click', () => selectToken(token.symbol));
                tokenList.appendChild(tokenElement);
            });
        }

        // Filter tokens based on search input
        function filterTokens() {
            const searchTerm = tokenSearch.value.toLowerCase();
            const filteredTokens = tokens.filter(token => 
                token.symbol.toLowerCase().includes(searchTerm) || 
                token.name.toLowerCase().includes(searchTerm) ||
                token.address.toLowerCase().includes(searchTerm)
            );
            renderTokenList(filteredTokens);
        }

        // Modal functions
        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Close modals when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal(modal.id);
            });
        });

        // Wallet connection
        function connectWallet(walletType) {
            console.log(`Connecting to ${walletType}...`);
            // In a real app, this would connect to the actual wallet
            connectWalletBtn.textContent = '0x7f...3a4b';
            swapButton.textContent = 'Swap';
            swapButton.disabled = false;
            closeModal('wallet-modal');
        }

        // Token selection
        function selectToken(symbol) {
            if (currentSelection === 'from') {
                fromToken = symbol;
                fromTokenSelector.querySelector('span').textContent = symbol;
            } else {
                toToken = symbol;
                toTokenSelector.querySelector('span').textContent = symbol;
            }
            closeModal('token-modal');
            updateRateInfo();
        }

        // Swap token positions
        function swapTokens() {
            [fromToken, toToken] = [toToken, fromToken];
            fromTokenSelector.querySelector('span').textContent = fromToken;
            toTokenSelector.querySelector('span').textContent = toToken;
            
            // Also swap the amounts
            [fromAmountInput.value, toAmountInput.value] = [toAmountInput.value, fromAmountInput.value];
            
            updateRateInfo();
        }

        // Calculate to amount based on from amount
        function calculateToAmount() {
            // In a real app, this would use actual exchange rates
            const rate = 160.50; // 1 SOL = 160.50 USDC
            if (fromAmountInput.value && !isNaN(fromAmountInput.value)) {
                toAmountInput.value = (parseFloat(fromAmountInput.value) * rate).toFixed(2);
            } else {
                toAmountInput.value = '';
            }
        }

        // Calculate from amount based on to amount
        function calculateFromAmount() {
            // In a real app, this would use actual exchange rates
            const rate = 160.50; // 1 SOL = 160.50 USDC
            if (toAmountInput.value && !isNaN(toAmountInput.value)) {
                fromAmountInput.value = (parseFloat(toAmountInput.value) / rate).toFixed(6);
            } else {
                fromAmountInput.value = '';
            }
        }

        // Update exchange rate info
        function updateRateInfo() {
            // In a real app, this would fetch actual rates
            const rateElement = document.querySelector('.rate-info');
            if (fromToken === 'SOL' && toToken === 'USDC') {
                rateElement.textContent = '1 SOL = 160.50 USDC (-0.04%)';
            } else if (fromToken === 'USDC' && toToken === 'SOL') {
                rateElement.textContent = '1 USDC = 0.00623 SOL (+0.04%)';
            } else {
                rateElement.textContent = `1 ${fromToken} = ? ${toToken}`;
            }
        }

        // Initialize the application
        init();
    </script>
</body>
</html>